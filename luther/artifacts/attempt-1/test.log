
> @vybestack/llxprt-code@0.5.0 test:ci
> cross-env NODE_OPTIONS=--max-old-space-size=6144 npm run test:ci --workspaces --if-present && npm run test:scripts


> @vybestack/llxprt-code-a2a-server@0.5.0 test:ci
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/home/runner/work/llxprt-code/llxprt-code/packages/a2a-server[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/persistence/gcs.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 33[2mms[22m[39m
[90mstdout[2m | src/agent/task.test.ts[2m > [22m[2mTask[2m > [22m[2mscheduleToolCalls should not modify the input requests array
[22m[39m[INFO] 2025-11-11 12:34:01.221 PM -- [Task] Scheduling batch of 1 tool calls.
[INFO] 2025-11-11 12:34:01.226 PM -- [Task] Scheduler tool calls updated:
{
  "0": "1 (error)"
}
[INFO] 2025-11-11 12:34:01.228 PM -- [Task] All tool calls completed by scheduler (batch):
{
  "0": "1"
}

[90mstdout[2m | src/agent/task.test.ts[2m > [22m[2mTask[2m > [22m[2mscheduleToolCalls should not modify the input requests array
[22m[39m[INFO] 2025-11-11 12:34:01.229 PM -- [Task] Scheduler tool calls updated:

 [32mâœ“[39m src/http/endpoints.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 72[2mms[22m[39m
 [32mâœ“[39m src/agent/task.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/http/app.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 100[2mms[22m[39m

[2m Test Files [22m [1m[32m4 passed[39m[22m[90m (4)[39m
[2m      Tests [22m [1m[32m21 passed[39m[22m[90m (21)[39m
[2m   Start at [22m 12:33:57
[2m   Duration [22m 3.78s[2m (transform 1.48s, setup 0ms, collect 8.07s, tests 225ms, environment 1ms, prepare 403ms)[22m

JUNIT report written to /home/runner/work/llxprt-code/llxprt-code/packages/a2a-server/junit.xml
[34m % [39m[2mCoverage report from [22m[33mv8[39m

> @vybestack/llxprt-code@0.5.0 test:ci
> npm run test:ci:covered && npm run test:ci:fast


> @vybestack/llxprt-code@0.5.0 test:ci:covered
> vitest run -c vitest.ci.covered.config.ts


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/home/runner/work/llxprt-code/llxprt-code/packages/cli[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/ui/reducers/appReducer.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 12[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m36 passed[39m[22m[90m (36)[39m
[2m   Start at [22m 12:34:02
[2m   Duration [22m 1.30s[2m (transform 79ms, setup 54ms, collect 41ms, tests 12ms, environment 399ms, prepare 78ms)[22m

JUNIT report written to /home/runner/work/llxprt-code/llxprt-code/packages/cli/junit.covered.xml
[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |    6.51 |       40 |    6.25 |    6.51 |                   
 contexts          |       0 |        0 |       0 |       0 |                   
  ...chContext.tsx |       0 |        0 |       0 |       0 | 1-29              
  ...ssContext.tsx |       0 |        0 |       0 |       0 | 1-760             
  ...erContext.tsx |       0 |        0 |       0 |       0 | 1-120             
  ...owContext.tsx |       0 |        0 |       0 |       0 | 1-87              
  ...meContext.tsx |       0 |        0 |       0 |       0 | 1-203             
  ...onContext.tsx |       0 |        0 |       0 |       0 | 1-170             
  ...teContext.tsx |       0 |        0 |       0 |       0 | 1-61              
  ...gsContext.tsx |       0 |        0 |       0 |       0 | 1-20              
  ...ngContext.tsx |       0 |        0 |       0 |       0 | 1-22              
  TodoContext.tsx  |       0 |        0 |       0 |       0 | 1-33              
  TodoProvider.tsx |       0 |        0 |       0 |       0 | 1-105             
  ...llContext.tsx |       0 |        0 |       0 |       0 | 1-30              
  ...lProvider.tsx |       0 |        0 |       0 |       0 | 1-122             
  ...deContext.tsx |       0 |        0 |       0 |       0 | 1-89              
 reducers          |   77.87 |     90.9 |      50 |   77.87 |                   
  appReducer.ts    |     100 |      100 |     100 |     100 |                   
  ...ionReducer.ts |       0 |        0 |       0 |       0 | 1-52              
-------------------|---------|----------|---------|---------|-------------------

> @vybestack/llxprt-code@0.5.0 test:ci:fast
> vitest run -c vitest.ci.fast.config.ts


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/home/runner/work/llxprt-code/llxprt-code/packages/cli[39m

 [32mâœ“[39m src/integration-tests/test-utils.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 804[2mms[22m[39m
   [33m[2mâœ“[22m[39m Test Utilities[2m > [22mwaitForFile[2m > [22mshould timeout if file is not created [33m 503[2mms[22m[39m
 [32mâœ“[39m src/ui/components/InputPrompt.paste.spec.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 468[2mms[22m[39m
 [32mâœ“[39m src/providers/providerManagerInstance.oauthRegistration.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 505[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/test/subagentCommand.test.ts [2m([22m[2m23 tests[22m[2m)[22m[33m 413[2mms[22m[39m
 [32mâœ“[39m src/auth/anthropic-oauth-provider.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 616[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/schema/argumentResolver.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 239[2mms[22m[39m
 [32mâœ“[39m src/config/config.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 207[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/ideCommand.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 5028[2mms[22m[39m
   [33m[2mâœ“[22m[39m ideCommand[2m > [22minstall subcommand[2m > [22mshould install the extension [33m 5012[2mms[22m[39m
 [32mâœ“[39m src/config/extension.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 115[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/test/setCommand.phase09.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 97[2mms[22m[39m
 [32mâœ“[39m src/services/FileCommandLoader.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 140[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/mcpCommand.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 78[2mms[22m[39m
 [32mâœ“[39m src/storage/ConversationStorage.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 120[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/commandUtils.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 57[2mms[22m[39m
 [32mâœ“[39m src/config/settings.test.ts [2m([22m[2m57 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 84[2mms[22m[39m
 [32mâœ“[39m src/config/config.loadMemory.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m src/services/prompt-processors/shellProcessor.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/restoreCommand.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m src/runtime/agentRuntimeAdapter.spec.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 69[2mms[22m[39m
 [32mâœ“[39m src/config/settingsSchema.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/commands/mcp/add.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m src/runtime/__tests__/runtimeIsolation.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m src/auth/anthropic-oauth-provider.local-flow.spec.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/chatCommand.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m src/auth/local-oauth-callback.spec.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m src/ui/themes/theme-manager.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m src/ui/hooks/useGeminiStream.subagent.spec.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m src/commands/extensions/new.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m src/ui/themes/semantic-tokens.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m src/utils/settingsUtils.test.ts [2m([22m[2m68 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/setupGithubCommand.test.ts [2m([22m[2m10 tests[22m[2m | [22m[33m2 skipped[39m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m src/nonInteractiveCli.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/aboutCommand.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/utils/gitUtils.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/auth/oauth-manager.logout.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/initCommand.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 60[2mms[22m[39m
 [32mâœ“[39m src/commands/extensions/install.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/providers/provider-gemini-switching.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/providers/logging/git-stats.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/commands/mcp/remove.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m src/config/__tests__/profileBootstrap.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/validateNonInterActiveAuth.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/runtime/runtimeSettings.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/copyCommand.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m test/providers/providerAliases.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/services/CommandService.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/runtime/__tests__/profileApplication.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m src/providers/logging/LoggingProviderWrapper.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/memoryCommand.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/services/todo-continuation/todoContinuationService.spec.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/authCommand.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/utils/handleAutoUpdate.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/toolsCommand.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/utils/installationInfo.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/commands/extensions/uninstall.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/compressCommand.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/setCommand.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/updateCheck.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m src/auth/oauth-manager-initialization.spec.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/statsCommand.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/config/trustedFolders.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/commands/mcp.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/utils/envVarResolver.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/utils/privacy/ConversationDataRedactor.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/utils/userStartupWarnings.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/keyCommand.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/integration-tests/runtime-isolation.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m test/auth/authRuntimeScope.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/test/setCommand.mutation.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/secureInputHandler.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/providers/providerManagerInstance.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/docsCommand.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/commands/mcp/list.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/auth/qwen-oauth-provider.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/ui/keyMatchers.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/test/subagentCommand.schema.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/profileCommand.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/ui/reducers/appReducer.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/responsive.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/providerCommand.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/clearCommand.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/ui/themes/theme.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/toolformatCommand.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/utils/readStdin.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/bugCommand.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/extensionsCommand.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/ui/themes/color-utils.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/config/auth.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/test-utils/mockCommandContext.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/runtime/providerConfigUtils.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/helpCommand.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/utils/ConversationContext.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/ui/useTodoPausePreserver.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/computeStats.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/config/keyBindings.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/highlight.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/services/prompt-processors/argumentProcessor.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/config/logging/loggingConfig.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/themeCommand.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/utils/startupWarnings.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/services/BuiltinCommandLoader.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/utils/cleanup.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/editorCommand.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/config/cliEphemeralSettings.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/displayUtils.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/formatters.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/terminalSetupCommand.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/ui/commands/settingsCommand.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/services/McpPromptLoader.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/clipboardUtils.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/tokenMetricsTracker.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/auth/__tests__/oauthManager.safety.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/ui/themes/semantic-resolver.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/auth/oauth-manager.spec.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/config/extensions/variables.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/ui/utils/markdownUtilities.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/config/settings.env.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/providers/credentialPrecedence.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m test/openai.stateless.stub.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/ui/App.quittingMessages.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m test/openaiResponses.stateless.stub.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m test/baseProvider.stateless.stub.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/config/__tests__/nonInteractiveTools.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [2m[90mâ†“[39m[22m src/providers/logging/performance.test.ts [2m([22m[2m8 tests[22m[2m | [22m[33m8 skipped[39m[2m)[22m
 [2m[90mâ†“[39m[22m test/ui/commands/authCommand-logout.test.ts [2m([22m[2m21 tests[22m[2m | [22m[33m21 skipped[39m[2m)[22m

[2m Test Files [22m [1m[32m123 passed[39m[22m[2m | [22m[33m2 skipped[39m[90m (125)[39m
[2m      Tests [22m [1m[32m1292 passed[39m[22m[2m | [22m[33m32 skipped[39m[90m (1345)[39m
[2m   Start at [22m 12:34:04
[2m   Duration [22m 64.24s[2m (transform 4.12s, setup 2.70s, collect 72.43s, tests 10.91s, environment 61.87s, prepare 11.17s)[22m

JUNIT report written to /home/runner/work/llxprt-code/llxprt-code/packages/cli/junit.fast.xml

> @vybestack/llxprt-code-core@0.5.0 test:ci
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/home/runner/work/llxprt-code/llxprt-code/packages/core[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/tools/glob.test.ts [2m([22m[2m34 tests[22m[2m)[22m[33m 1726[2mms[22m[39m
 [32mâœ“[39m src/prompt-config/prompt-service.test.ts [2m([22m[2m45 tests[22m[2m)[22m[33m 1454[2mms[22m[39m
 [32mâœ“[39m src/services/history/HistoryService.test.ts [2m([22m[2m26 tests[22m[2m)[22m[33m 3928[2mms[22m[39m
   [33m[2mâœ“[22m[39m HistoryService - Behavioral Tests[2m > [22mImport/Export[2m > [22mshould export and import history via JSON [33m 453[2mms[22m[39m
 [32mâœ“[39m src/utils/toolOutputLimiter.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 1305[2mms[22m[39m
   [33m[2mâœ“[22m[39m toolOutputLimiter[2m > [22mestimateTokens[2m > [22mshould estimate tokens using tiktoken for gpt-4o [33m 361[2mms[22m[39m
   [33m[2mâœ“[22m[39m toolOutputLimiter[2m > [22mlimitOutputTokens[2m > [22mshould warn when content exceeds limit in warn mode [33m 412[2mms[22m[39m
   [33m[2mâœ“[22m[39m toolOutputLimiter[2m > [22mlimitOutputTokens[2m > [22mshould truncate content in truncate mode [33m 325[2mms[22m[39m
 [32mâœ“[39m src/core/subagent.test.ts [2m([22m[2m27 tests[22m[2m)[22m[33m 1359[2mms[22m[39m
 [32mâœ“[39m src/services/history/orphaned-tools-comprehensive.test.ts [2m([22m[2m9 tests[22m[2m | [22m[33m4 skipped[39m[2m)[22m[33m 1052[2mms[22m[39m
   [33m[2mâœ“[22m[39m Orphaned Tool Calls - Comprehensive Tests[2m > [22mgetCurated WITHOUT orphans[2m > [22mshould NOT add synthetic responses when tool responses exist [33m 303[2mms[22m[39m
   [33m[2mâœ“[22m[39m Orphaned Tool Calls - Comprehensive Tests[2m > [22mgetCuratedForProvider should not create circular references[2m > [22mshould not modify original history when patching [33m 318[2mms[22m[39m
 [32mâœ“[39m src/services/history/circular-reference.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 1161[2mms[22m[39m
   [33m[2mâœ“[22m[39m Circular Reference Bug[2m > [22mshould not create circular references when getCurated is called during tool execution [33m 311[2mms[22m[39m
   [33m[2mâœ“[22m[39m Circular Reference Bug[2m > [22mshould handle complex nested parameters without circular references [33m 373[2mms[22m[39m
 [32mâœ“[39m src/integration/compression-duplicate-ids.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 1391[2mms[22m[39m
   [33m[2mâœ“[22m[39m Compression and duplicate tool call IDs[2m > [22mshould not create duplicate tool IDs when rebuilding history after compression [33m 784[2mms[22m[39m
 [32mâœ“[39m src/services/history/compression-locking.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 851[2mms[22m[39m
   [33m[2mâœ“[22m[39m Compression locking[2m > [22mshould queue adds during compression [33m 332[2mms[22m[39m
 [32mâœ“[39m src/integration-tests/geminiChat-isolation.integration.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 726[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat Isolation Integration Tests[2m > [22mHistory Isolation[2m > [22mshould maintain independent history services between foreground and subagent [33m 403[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat Isolation Integration Tests[2m > [22mHistory Isolation[2m > [22mshould not share history between multiple subagents [33m 309[2mms[22m[39m
 [32mâœ“[39m src/core/client.test.ts [2m([22m[2m72 tests[22m[2m | [22m[33m6 skipped[39m[2m)[22m[33m 496[2mms[22m[39m
 [32mâœ“[39m src/prompt-config/prompt-loader.test.ts [2m([22m[2m44 tests[22m[2m)[22m[33m 746[2mms[22m[39m
   [33m[2mâœ“[22m[39m PromptLoader[2m > [22mwatchFiles[2m > [22mshould notify on file changes [33m 307[2mms[22m[39m
 [32mâœ“[39m src/mcp/token-storage/file-token-storage.test.ts [2m([22m[2m16 tests[22m[2m)[22m[33m 601[2mms[22m[39m
 [32mâœ“[39m src/tools/shell.test.ts [2m([22m[2m35 tests[22m[2m)[22m[33m 582[2mms[22m[39m
 [32mâœ“[39m src/tools/read-many-files.test.ts [2m([22m[2m32 tests[22m[2m)[22m[33m 569[2mms[22m[39m
 [32mâœ“[39m src/tools/grep.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 480[2mms[22m[39m
 [32mâœ“[39m src/debug/DebugLogger.test.ts [2m([22m[2m36 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 374[2mms[22m[39m
 [32mâœ“[39m src/services/history/findfiles-circular.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 368[2mms[22m[39m
 [32mâœ“[39m src/tools/ripGrep.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 255[2mms[22m[39m
 [32mâœ“[39m src/tools/shell.multibyte.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 358[2mms[22m[39m
   [33m[2mâœ“[22m[39m ShellTool multibyte handling[2m > [22mpreserves full multibyte output in returnDisplay [33m 355[2mms[22m[39m
 [32mâœ“[39m src/core/geminiChat.test.ts [2m([22m[2m43 tests[22m[2m)[22m[33m 16041[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22msendMessageStream[2m > [22mshould call generateContentStream with the correct parameters [33m 332[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22mrecordHistory[2m > [22mshould add user input and a single model output to history [33m 343[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22mrecordHistory[2m > [22mshould merge with last history entry if it is also a model output [33m 300[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22mrecordHistory[2m > [22mshould correctly consolidate text parts when a thought part is in between [33m 379[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22mrecordHistory[2m > [22mshould handle thought part at the end of outputContents [33m 359[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22msendMessageStream with retries[2m > [22mshould fail if the stream ends with an empty part and has no finishReason [33m 1152[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22msendMessageStream with retries[2m > [22mshould throw InvalidStreamError when no tool call and no finish reason [33m 668[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22msendMessageStream with retries[2m > [22mshould throw InvalidStreamError when no tool call and empty response text [33m 689[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22mshould correctly retry and append to an existing history mid-conversation [33m 630[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22msendMessageStream with retries - additional tests[2m > [22mshould yield a RETRY event when an invalid stream is encountered [33m 613[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22msendMessageStream with retries - additional tests[2m > [22mshould retry on invalid content, succeed, and report metrics [33m 674[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22msendMessageStream with retries - additional tests[2m > [22mshould set temperature to 1 on retry (with original temperature of 0.5) [33m 697[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22msendMessageStream with retries - additional tests[2m > [22mshould set temperature with variation on retry for multiple attempts [33m 687[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22msendMessageStream with retries - additional tests[2m > [22mshould fail after all retries on persistent invalid content [33m 649[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22mshould retry if the model returns a completely empty stream (no chunks) [33m 673[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat[2m > [22mshould retry when all content is invalid and succeed on the second attempt [33m 1097[2mms[22m[39m
 [32mâœ“[39m src/core/geminiChat.runtime.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 310[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiChat runtime context[2m > [22mpasses runtime context and tools to provider generateChatCompletion [33m 307[2mms[22m[39m
 [32mâœ“[39m src/filters/EmojiFilter.property.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 283[2mms[22m[39m
 [32mâœ“[39m src/services/loopDetectionService.test.ts [2m([22m[2m34 tests[22m[2m)[22m[33m 442[2mms[22m[39m
 [32mâœ“[39m src/providers/anthropic/AnthropicProvider.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 344[2mms[22m[39m
 [32mâœ“[39m src/providers/gemini/GeminiProvider.test.ts [2m([22m[2m12 tests[22m[2m)[22m[33m 325[2mms[22m[39m
   [33m[2mâœ“[22m[39m GeminiProvider[2m > [22mserializes tool responses with error metadata and token limits [33m 311[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/OpenAIProvider.convertToOpenAIMessages.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 278[2mms[22m[39m
 [32mâœ“[39m src/core/coreToolScheduler.test.ts [2m([22m[2m28 tests[22m[2m | [22m[33m6 skipped[39m[2m)[22m[32m 267[2mms[22m[39m
 [32mâœ“[39m src/tools/read-file.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 232[2mms[22m[39m
 [32mâœ“[39m src/tools/edit.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 244[2mms[22m[39m
 [32mâœ“[39m src/tools/edit-fuzzy.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 157[2mms[22m[39m
 [32mâœ“[39m src/utils/memoryDiscovery.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 154[2mms[22m[39m
 [32mâœ“[39m src/prompt-config/prompt-installer.test.ts [2m([22m[2m49 tests[22m[2m)[22m[32m 166[2mms[22m[39m
 [32mâœ“[39m src/tools/mcp-tool.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 226[2mms[22m[39m
 [32mâœ“[39m src/mcp/oauth-provider.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 168[2mms[22m[39m
 [32mâœ“[39m src/tools/web-fetch.integration.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 189[2mms[22m[39m
 [32mâœ“[39m src/core/logger.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 136[2mms[22m[39m
 [32mâœ“[39m src/tools/write-file.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 159[2mms[22m[39m
 [32mâœ“[39m src/utils/fileUtils.test.ts [2m([22m[2m62 tests[22m[2m)[22m[32m 127[2mms[22m[39m
 [32mâœ“[39m src/tools/ls.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 136[2mms[22m[39m
 [32mâœ“[39m src/tools/memoryTool.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 82[2mms[22m[39m
 [32mâœ“[39m src/core/atomic-compression.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 129[2mms[22m[39m
 [32mâœ“[39m src/utils/filesearch/fileSearch.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 133[2mms[22m[39m
 [32mâœ“[39m src/tools/smart-edit.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 126[2mms[22m[39m
 [32mâœ“[39m src/providers/integration/multi-provider.integration.test.ts [2m([22m[2m12 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 225[2mms[22m[39m
 [32mâœ“[39m src/mcp/token-storage/keychain-token-storage.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 111[2mms[22m[39m
 [32mâœ“[39m src/tools/web-search.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 111[2mms[22m[39m
 [32mâœ“[39m src/utils/bfsFileSearch.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 145[2mms[22m[39m
 [32mâœ“[39m src/services/shellExecutionService.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 103[2mms[22m[39m
 [32mâœ“[39m src/tools/task.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 88[2mms[22m[39m
 [32mâœ“[39m src/core/prompts-async.test.ts [2m([22m[2m10 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 99[2mms[22m[39m
 [32mâœ“[39m src/tools/edit-tabs-issue473.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 92[2mms[22m[39m
 [32mâœ“[39m src/providers/gemini/__tests__/gemini.stateless.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 94[2mms[22m[39m
 [32mâœ“[39m src/config/config.test.ts [2m([22m[2m51 tests[22m[2m)[22m[32m 92[2mms[22m[39m
 [32mâœ“[39m src/config/flashFallback.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 91[2mms[22m[39m
 [32mâœ“[39m src/config/test/subagentManager.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 79[2mms[22m[39m
 [32mâœ“[39m src/code_assist/oauth2.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 94[2mms[22m[39m
 [32mâœ“[39m src/auth/token-store.spec.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 79[2mms[22m[39m
 [32mâœ“[39m src/auth/oauth-errors.spec.ts [2m([22m[2m38 tests[22m[2m | [22m[33m2 skipped[39m[2m)[22m[32m 79[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/__tests__/openai.stateless.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 90[2mms[22m[39m
 [32mâœ“[39m src/providers/anthropic/__tests__/anthropic.stateless.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 74[2mms[22m[39m
 [32mâœ“[39m src/utils/schemaValidator.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 80[2mms[22m[39m
 [32mâœ“[39m src/tools/web-fetch.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 78[2mms[22m[39m
 [32mâœ“[39m src/utils/editor.test.ts [2m([22m[2m108 tests[22m[2m)[22m[32m 77[2mms[22m[39m
 [32mâœ“[39m src/utils/filesearch/crawler.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 72[2mms[22m[39m
 [32mâœ“[39m src/core/prompts.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 88[2mms[22m[39m
 [32mâœ“[39m src/utils/gitIgnoreParser.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 78[2mms[22m[39m
 [32mâœ“[39m src/utils/workspaceContext.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 63[2mms[22m[39m
 [32mâœ“[39m src/utils/getFolderStructure.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32mâœ“[39m src/core/nonInteractiveToolExecutor.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 76[2mms[22m[39m
 [32mâœ“[39m src/runtime/AgentRuntimeState.spec.ts [2m([22m[2m48 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m src/services/fileDiscoveryService.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [32mâœ“[39m src/tools/list-subagents.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32mâœ“[39m src/prompt-config/TemplateEngine.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m src/telemetry/uiTelemetry.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 106[2mms[22m[39m
 [32mâœ“[39m src/services/gitService.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m src/utils/environmentContext.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m src/utils/summarizer.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 95[2mms[22m[39m
 [32mâœ“[39m src/utils/memoryImportProcessor.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m src/filters/EmojiFilter.test.ts [2m([22m[2m68 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m src/config/profileManager.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/tools/modifiable-tool.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m src/tools/mcp-client.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m src/filters/EmojiFilter.consistency.test.ts [2m([22m[2m58 tests[22m[2m)[22m[32m 65[2mms[22m[39m
 [32mâœ“[39m test/utils/ripgrepPathResolver.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m src/telemetry/metrics.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m src/providers/BaseProvider.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/telemetry/telemetry.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m src/core/__tests__/geminiClient.runtimeState.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/tools/tool-registry.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m src/debug/FileOutput.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/code_assist/server.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m src/utils/retry.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/utils/errorReporting.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32mâœ“[39m src/parsers/TextToolCallParser.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m src/auth/auth-integration.spec.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/services/fileSystemService.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/utils/generateContentResponseUtilities.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/prompt-config/prompt-cache.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m src/auth/precedence.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/utils/memoryImportProcessor.issue391.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/utils/userAccountManager.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m src/services/history/ContentConverters.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/core/__tests__/subagent.stateless.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m test/settings/SettingsService.spec.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/utils/secure-browser-launcher.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/mcp/token-storage/hybrid-token-storage.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/parseResponsesStream.responsesToolCalls.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m src/config/endpoints.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/tools/todo-store.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/mcp/file-token-store.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/debug/ConfigurationManager.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m src/utils/systemEncoding.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m src/core/turn.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/buildResponsesRequest.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/utils/shell-utils.test.ts [2m([22m[2m49 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/utils/paths.test.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/utils/filesearch/ignore.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m src/services/ClipboardService.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m src/core/subagentOrchestrator.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/integration-tests/settings-remediation.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/telemetry/loggers.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/tools/ToolFormatter.toResponsesTool.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/tools/ToolFormatter.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/core/turn.undefined_issue.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/tools/todo-schemas.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/tools/toolNameUtils.integration.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/OpenAIProvider.modelParamsAndHeaders.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/providers/__tests__/ProviderManager.guard.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/runtime/AgentRuntimeLoader.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/prompt-config/prompt-resolver.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/ide/ide-client.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m src/core/__tests__/geminiChat.runtimeState.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/utils/unicodeUtils.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/utils/filesearch/crawlCache.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/code_assist/setup.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/core/geminiChat.contextlimit.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/utils/ignorePatterns.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/utils/shell-utils.shellReplacement.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/ide/ideContext.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/ToolCallPipeline.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/services/shellExecutionService.windows.multibyte.test.ts [2m([22m[2m5 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/auth/__tests__/authRuntimeScope.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/utils/partUtils.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/mcp/oauth-token-storage.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/mcp/google-auth-provider.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/tools/todo-read.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/__tests__/ToolNameValidator.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m src/mcp/oauth-utils.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/providers/openai-responses/__tests__/openaiResponses.stateless.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/ide/process-utils.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/providers/gemini/__tests__/gemini.userMemory.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/config/config.ephemeral.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/providers/__tests__/baseProvider.stateless.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/runtime/__tests__/regression-guards.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/ide/ide-installer.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/integration-tests/profile-integration.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/estimateRemoteTokens.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/providers/openai-responses/OpenAIResponsesProvider.headers.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/mcp/token-store.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/core/contentGenerator.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/core/googleGenAIWrapper.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/toolNameUtils.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/tools/todo-pause.spec.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/OpenAIProvider.toolNameErrors.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/mcp/token-storage/base-token-storage.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/code_assist/converter.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m src/utils/sanitization.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/providers/ProviderManager.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/tools/todo-write.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/tools/tools.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/ide/detect-ide.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/integration-tests/provider-settings-integration.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/utils/errorParsing.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/services/shellExecutionService.multibyte.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/services/complexity-analyzer.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/services/tool-call-tracker-service.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/runtime/AgentRuntimeContext.stateless.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/providers/logging/ProviderPerformanceTracker.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m src/providers/__tests__/BaseProvider.guard.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/tools/diffOptions.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/config/config.alwaysAllow.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/providers/providerInterface.compat.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/getOpenAIProviderInfo.context.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m test/settings/model-diagnostics.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/providers/__tests__/LoggingProviderWrapper.stateless.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/buildResponsesRequest.stripToolCalls.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/ConversationCache.accumTokens.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/OpenAIProvider.setModel.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/core/__tests__/config-regression-guard.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/providers/ProviderManager.gemini-switch.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/ToolCallCollector.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/runtime/__tests__/AgentRuntimeState.stub.test.ts [2m([22m[2m13 tests[22m[2m | [22m[33m10 skipped[39m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/OpenAIProvider.toolFormatDetection.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/integration-tests/todo-system.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/test-utils/__tests__/providerCallOptions.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/utils/safeJsonStringify.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/config/storage.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/utils/installationManager.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/prompt-config/defaults/manifest-loader.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/providers/gemini/GeminiProvider.e2e.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/tools/doubleEscapeUtils.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/providers/anthropic/AnthropicProvider.modelParams.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/providers/anthropic/AnthropicProvider.toolFormatDetection.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/parseResponsesStream.test.ts [2m([22m[2m11 tests[22m[2m | [22m[33m5 skipped[39m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/runtime/RuntimeInvocationContext.failfast.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/buildResponsesRequest.undefined.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/utils/filesearch/result-cache.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/core/tokenLimits.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/runtime/providerRuntimeContext.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/parsers/TextToolCallParser.multibyte.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/tools/mcp-client-manager.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/utils/tool-utils.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/providers/providerManager.context.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/OpenAIProvider.stateful.integration.test.ts [2m([22m[2m2 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/__tests__/formatArrayResponse.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/providers/openai/openaiRequestParams.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/core/__tests__/geminiClient.dispose.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/hooks/tool-render-suppression-hook.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/auth/precedence.adapter.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/core/__tests__/compression-logic.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/code_assist/oauth2.e2e.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/core/__tests__/compression.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [2m[90mâ†“[39m[22m src/auth/qwen-device-flow.spec.ts [2m([22m[2m24 tests[22m[2m | [22m[33m24 skipped[39m[2m)[22m
 [2m[90mâ†“[39m[22m src/services/shellExecutionService.windows.test.ts [2m([22m[2m3 tests[22m[2m | [22m[33m3 skipped[39m[2m)[22m
 [2m[90mâ†“[39m[22m src/providers/__tests__/BaseProvider.guard.stub.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90mâ†“[39m[22m src/providers/openai/OpenAIProvider.callResponses.stateless.test.ts [2m([22m[2m5 tests[22m[2m | [22m[33m5 skipped[39m[2m)[22m
 [2m[90mâ†“[39m[22m src/providers/openai/OpenAIProvider.integration.test.ts [2m([22m[2m3 tests[22m[2m | [22m[33m3 skipped[39m[2m)[22m
 [2m[90mâ†“[39m[22m src/providers/openai/OpenAIProvider.responsesIntegration.test.ts [2m([22m[2m6 tests[22m[2m | [22m[33m6 skipped[39m[2m)[22m
 [2m[90mâ†“[39m[22m src/services/history/orphaned-tools.test.ts [2m([22m[2m6 tests[22m[2m | [22m[33m6 skipped[39m[2m)[22m
 [2m[90mâ†“[39m[22m src/providers/openai/ResponsesContextTrim.integration.test.ts [2m([22m[2m4 tests[22m[2m | [22m[33m4 skipped[39m[2m)[22m
 [2m[90mâ†“[39m[22m src/providers/openai/openai-oauth.spec.ts [2m([22m[2m25 tests[22m[2m | [22m[33m25 skipped[39m[2m)[22m

[2m Test Files [22m [1m[32m224 passed[39m[22m[2m | [22m[33m9 skipped[39m[90m (233)[39m
[2m      Tests [22m [1m[32m3450 passed[39m[22m[2m | [22m[33m115 skipped[39m[90m (3565)[39m
[2m   Start at [22m 12:35:09
[2m   Duration [22m 92.06s[2m (transform 6.72s, setup 3.83s, collect 120.06s, tests 46.40s, environment 67ms, prepare 24.04s)[22m

JUNIT report written to /home/runner/work/llxprt-code/llxprt-code/packages/core/junit.xml
[34m % [39m[2mCoverage report from [22m[33mv8[39m

> llxprt-code-vscode-ide-companion@0.5.0 test:ci
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/home/runner/work/llxprt-code/llxprt-code/packages/vscode-ide-companion[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/open-files-manager.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m src/extension.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/extension-multi-folder.test.ts [2m([22m[2m5 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 30[2mms[22m[39m

[2m Test Files [22m [1m[32m3 passed[39m[22m[90m (3)[39m
[2m      Tests [22m [1m[32m25 passed[39m[22m[2m | [22m[33m1 skipped[39m[90m (26)[39m
[2m   Start at [22m 12:36:43
[2m   Duration [22m 889ms[2m (transform 244ms, setup 0ms, collect 782ms, tests 98ms, environment 1ms, prepare 299ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   37.22 |       75 |    47.5 |   37.22 |                   
 ...-ide-companion |       0 |        0 |       0 |       0 |                   
  esbuild.js       |       0 |        0 |       0 |       0 | 1-69              
 ...panion/scripts |       0 |        0 |       0 |       0 |                   
  ...te-notices.js |       0 |        0 |       0 |       0 | 1-158             
 ...-companion/src |   44.81 |    78.18 |   48.64 |   44.81 |                   
  diff-manager.ts  |   23.15 |       75 |      20 |   23.15 | ...40-241,244-269 
  extension.ts     |   57.35 |       75 |      50 |   57.35 | ...33-137,142-156 
  ide-schemas.ts   |     100 |      100 |     100 |     100 |                   
  ide-server.ts    |   26.37 |       60 |      50 |   26.37 | ...62-377,389-408 
  ...es-manager.ts |   94.36 |    84.84 |     100 |   94.36 | ...85,143-144,151 
 ...nion/src/utils |   83.33 |    66.66 |     100 |   83.33 |                   
  logger.ts        |   83.33 |    66.66 |     100 |   83.33 | 15-16             
-------------------|---------|----------|---------|---------|-------------------

> @vybestack/llxprt-code@0.5.0 test:scripts
> vitest run --config ./scripts/tests/vitest.config.ts


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/home/runner/work/llxprt-code/llxprt-code[39m

[90mstderr[2m | scripts/tests/get-release-version.test.js[2m > [22m[2mgetReleaseVersion[2m > [22m[2mshould calculate nightly version when IS_NIGHTLY is true
[22m[39mCalculating next nightly version...

[90mstderr[2m | scripts/tests/get-release-version.test.js[2m > [22m[2mgetReleaseVersion[2m > [22m[2mshould use manual version when provided
[22m[39mUsing manual version: 1.2.3
Version is missing 'v' prefix. Prepending it.

[90mstderr[2m | scripts/tests/get-release-version.test.js[2m > [22m[2mgetReleaseVersion[2m > [22m[2mshould prepend v to manual version if missing
[22m[39mUsing manual version: 1.2.3
Version is missing 'v' prefix. Prepending it.

[90mstderr[2m | scripts/tests/get-release-version.test.js[2m > [22m[2mgetReleaseVersion[2m > [22m[2mshould handle pre-release versions correctly
[22m[39mUsing manual version: v1.2.3-beta.1

[90mstderr[2m | scripts/tests/get-release-version.test.js[2m > [22m[2mgetReleaseVersion[2m > [22m[2mshould throw an error for invalid version format
[22m[39mUsing manual version: 1.2
Version is missing 'v' prefix. Prepending it.

[90mstderr[2m | scripts/tests/get-release-version.test.js[2m > [22m[2mgetReleaseVersion[2m > [22m[2mshould auto-increment version if no version is provided for non-nightly release
[22m[39mAuto-incrementing version from 0.1.0 to 0.1.1

[90mstderr[2m | scripts/tests/get-release-version.test.js[2m > [22m[2mgetReleaseVersion[2m > [22m[2mshould throw an error for versions with build metadata
[22m[39mUsing manual version: v1.2.3+build456

 [32mâœ“[39m scripts/tests/get-release-version.test.js [2m([22m[2m8 tests[22m[2m)[22m[32m 11[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m8 passed[39m[22m[90m (8)[39m
[2m   Start at [22m 12:36:45
[2m   Duration [22m 291ms[2m (transform 46ms, setup 21ms, collect 27ms, tests 11ms, environment 0ms, prepare 60ms)[22m

