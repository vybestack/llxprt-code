# Batch 20 Audit (Upstream `21163a16`)

## Plan Intent
- Batch 20 is a PICK of upstream commit `21163a16`.
- Upstream subject: “Enable typechecking for ui/commands tests (#11340)”.
- Intended change: remove ui/commands test exclusions from typecheck so they are included in TypeScript compilation.

Source: `project-plans/20260104gmerge/PLAN.md` (Batch 20 row).

## Reported Status (AUDIT.md)
- Row for upstream `21163a16` reports **Decision: SKIP**, **Status: SKIP**, local commit `490a0ed6a`.
- Notes claim ui/commands tests are excluded from typecheck due to architectural divergence; tests pass at runtime.

Source: `project-plans/20260104gmerge/AUDIT.md` row for `21163a16`.

## Repo Verification (Actual State)
- `packages/cli/tsconfig.json` still excludes the ui/commands test files from typechecking, along with many other UI tests.
- This indicates the upstream goal (enable typechecking for ui/commands tests) is **not implemented** in the current code.

Evidence:
- `packages/cli/tsconfig.json` excludes `src/ui/commands/*Command.test.ts(x)` entries in the `exclude` list.

## Comparison & Discrepancies
- **Plan vs Actual:** Planned PICK of `21163a16` (enable typechecking for ui/commands tests) is **not present**; those tests remain excluded.
- **Audit vs Actual:** AUDIT.md reports SKIP with rationale, which matches the current repo state (still excluded).
- **Plan vs Audit:** Plan expects a cherry-pick; audit records a SKIP. This is a divergence that should be acknowledged explicitly in the batch tracking.

## Conclusion
Batch 20’s upstream change is not applied. The audit correctly reports the batch as SKIP, but this differs from the plan’s PICK intent. If the project still wants ui/commands tests typechecked, the excludes in `packages/cli/tsconfig.json` need to be revisited and the upstream change (or an LLxprt-appropriate reimplementation) applied.
