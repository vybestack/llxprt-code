# Batch 13 Audit (dcf362bc)

## Intent
- Inline tree-sitter WASM for shell parsing and add runtime fallback for the shell tool (upstream `dcf362bc`).

## Claimed Action
- PROGRESS.md marks Batch 13 as QUICK/SKIP for `dcf362bc`, deferred due to complex build system changes, and later notes a permanent skip with missing dependencies and reliance on regex-based parsing.
- AUDIT.md records a PERMANENT SKIP citing missing dependencies and build system complexity.

## Code Evidence
- `packages/core/src/utils/shell-utils.ts:115` implements `splitCommands` for regex-based shell parsing.
- `packages/core/src/utils/shell-utils.ts:173` implements `getCommandRoot`, indicating parsing remains string/regex-based.
- `packages/core/src/utils/shell-utils.ts:230` implements `detectCommandSubstitution` without tree-sitter.
- `packages/core/src/tools/shell.ts:116` uses `getCommandRoots` from shell-utils for shell command validation.
- No tree-sitter usage found in core/cli packages (`rg` search for tree-sitter returned no matches).

## Gaps/Mismatches
- No mismatch found: claimed SKIP aligns with absence of tree-sitter code and continued regex-based shell parsing.

## Verdict
real
