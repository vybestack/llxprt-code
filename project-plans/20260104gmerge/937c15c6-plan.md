# Reimplement 937c15c6 â€” refactor: Remove deprecated --all-files flag (#11228)

Upstream: https://github.com/google-gemini/gemini-cli/commit/937c15c66eb0e254aba57db21f14378d2d8b3c81
Areas: a2a-server, cli, core, docs
Rationale: CLI flag removal needs review for llxprt compatibility

## Upstream Files
- `docs/cli/headless.md` (exists: NO)
- `docs/get-started/configuration-v1.md` (exists: NO)
- `docs/get-started/configuration.md` (exists: NO)
- `packages/a2a-server/src/config/config.ts` (exists: YES)
- `packages/cli/src/config/config.ts` (exists: YES)
- `packages/cli/src/gemini.test.tsx` (exists: YES)
- `packages/cli/src/nonInteractiveCli.test.ts` (exists: YES)
- `packages/cli/src/ui/hooks/useAutoAcceptIndicator.test.ts` (exists: YES)
- `packages/cli/src/ui/hooks/useGeminiStream.test.tsx` (exists: YES)
- `packages/core/src/config/config.test.ts` (exists: YES)
- `packages/core/src/config/config.ts` (exists: YES)
- `packages/core/src/core/client.test.ts` (exists: YES)
- `packages/core/src/telemetry/loggers.test.ts` (exists: YES)
- `packages/core/src/tools/edit.test.ts` (exists: YES)
- `packages/core/src/tools/smart-edit.test.ts` (exists: YES)
- `packages/core/src/tools/write-file.test.ts` (exists: YES)
- `packages/core/src/utils/editCorrector.test.ts` (exists: NO)
- `packages/core/src/utils/environmentContext.test.ts` (exists: YES)
- `packages/core/src/utils/environmentContext.ts` (exists: YES)

## Implementation Steps
1. Inspect upstream diff: `git show 937c15c6 --stat`.
2. Review each touched file: `git show 937c15c6 -- <file>`.
3. Apply equivalent changes in LLxprt, adjusting for:
   - Multi-provider architecture (no Google-only auth paths).
   - No Clearcut telemetry; keep llxprt logging model.
   - Canonical tool names and policy files per dev-docs/cherrypicking.md.
   - A2A server remains private.
4. If a referenced file is missing in LLxprt, document NO_OP in AUDIT.md and explain in NOTES.md.
5. Run quick verify after implementation: `npm run lint` and `npm run typecheck`.
6. Commit with: `reimplement: refactor: Remove deprecated --all-files flag (#11228) (upstream 937c15c6)`.
7. Update PROGRESS.md, append NOTES.md, and record in AUDIT.md.

