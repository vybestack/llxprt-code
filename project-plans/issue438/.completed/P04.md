# P04 Complete — PLAN-20250212-LSP.P04

## Scope
Implemented Phase 04 only (language map module + tests).

## Evidence
- Implemented `packages/lsp/src/service/language-map.ts` with complete extension→languageId mapping and reverse languageId→extensions lookup.
- Exported required APIs:
  - `getLanguageId(extension: string): string | undefined`
  - `getExtensionsForLanguage(languageId: string): readonly string[]`
- Added required markers:
  - `@plan:PLAN-20250212-LSP.P04`
  - `@requirement:REQ-LANG-010`
  - `@pseudocode:language-map.md lines ...`
- Created tests in `packages/lsp/test/language-map.test.ts` including behavior + property-style randomized checks (3 of 11 tests, >30%).
- Deferred-implementation scan clean (no TODO/FIXME/HACK).
- Test verification:
  - `bunx vitest run test/language-map.test.ts` → passing.
