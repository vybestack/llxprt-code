P12 final fix completed.

Evidence:
- Updated `packages/lsp/src/service/lsp-client.ts` in `waitForDiagnostics()` to immediately schedule debounce when an existing non-empty diagnostics snapshot is already present after listener registration.
- Preserved deadline safety margin and crash-handling behavior.
- Verification commands run:
  - `bunx tsc --noEmit` [OK]
  - `bunx vitest run test/lsp-client.test.ts test/lsp-client-integration.test.ts` [OK] (25/25 tests passed)
  - `bunx eslint src/service/lsp-client.ts` [OK] (exit 0; one existing config warning only)
  - `git diff --name-only packages/lsp/test/lsp-client*.ts` [OK] (no test file changes)
