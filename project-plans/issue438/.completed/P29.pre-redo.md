# P29 Completion Marker (RED by design)

Plan: PLAN-20250212-LSP.P29

## Scope completed
- Added behavior-rich unit TDD test file only:
  - `packages/core/src/lsp/__tests__/lsp-service-client.test.ts`
- Did not modify implementation files.

## RED evidence
Command run:

    cd packages/core && npx vitest run src/lsp/__tests__/lsp-service-client.test.ts

Observed summary:
- Test file failed as expected against current stubs.
- Result: `21 tests | 12 failed`
- Representative failing expectations:
  - `start()` should make client alive (`isAlive() === true`) but stub remains false.
  - `status()` should return per-server entries but stub returns empty list.
  - alive-only behaviors (`getMcpTransportStreams`, non-empty diagnostics) fail because stub does not implement lifecycle.

## Command summary
1. Test execution:

    cd packages/core && npx vitest run src/lsp/__tests__/lsp-service-client.test.ts

2. Counts:

    cd packages/core && grep -nF "it(" src/lsp/__tests__/lsp-service-client.test.ts | wc -l
    cd packages/core && grep -nF "expect(" src/lsp/__tests__/lsp-service-client.test.ts | wc -l

   Output:
- `it(` count: `21`
- `expect(` count: `34`

3. Prohibited pattern check:

    cd packages/core && grep -nE "NotYetImplemented|TODO|FIXME|HACK|\.skip\(|test\.todo|\bxit\(|\bxdescribe\(" src/lsp/__tests__/lsp-service-client.test.ts || true

   Output:
- no matches
