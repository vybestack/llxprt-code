# gemini-cli v0.9.0 → v0.10.0: Recommended cherry-picks

This is a subset view of `CHERRIES.md` focusing on actionable changes.

## PICK (apply as commits)

| # | Commit | Date | Rationale | Subject |
|---:|:------|:-----|:----------|:--------|
| 1 | [`8980276b`](https://github.com/google-gemini/gemini-cli/commit/8980276b205e2b8f327b8b55f785a01e36ce18b8) | 2025-10-08 | Extensions/A2A: align extension typings across CLI/core/a2a-server (high churn but reduces future merge pain) | Rationalize different Extension typings (#10435) |
| 2 | [`1af3fef3`](https://github.com/google-gemini/gemini-cli/commit/1af3fef33a611f17957f8043211b9e1ea3ac15bb) | 2025-10-08 | Tests: disable auto-update in integration tests (reduce flake) | fix(infra) - Remove auto update from integration tests (#10656) |
| 3 | [`603ec2b2`](https://github.com/google-gemini/gemini-cli/commit/603ec2b21bd95be249f0f0c6d4d6ee267fab436a) | 2025-10-08 | Tests: add deflake runner script to reproduce flakes quickly | Add script to deflake integration tests (#10666) |
| 4 | [`467a305f`](https://github.com/google-gemini/gemini-cli/commit/467a305f266d30047d3c69b5fd680745e7580e39) | 2025-10-08 | UX: enable interactive shell by default (matches llxprt intent) | chore(shell): Enable interactive shell by default (#10661) |
| 5 | [`b92e3bca`](https://github.com/google-gemini/gemini-cli/commit/b92e3bca508036514bd7bb3fb566e93f82edfc18) | 2025-10-09 | MCP: server removal persists to settings | fix(mcp): fix MCP server removal not persisting to settings (#10098) |
| 6 | [`1962b51d`](https://github.com/google-gemini/gemini-cli/commit/1962b51d8d3b971d820eef288d9d4f3346d3a1a0) | 2025-10-09 | CLI: positional prompt args with --extensions (drop Clearcut test hunk) | fix: ensure positional prompt arguments work with extensions flag (#10077) |
| 7 | [`f2852056`](https://github.com/google-gemini/gemini-cli/commit/f2852056a11d10cd56045b57ba1deec5822a089e) | 2025-10-08 | CLI: strip ANSI codes from extension MCP server output | feat: prevent ansi codes in extension MCP Servers (#10748) |
| 8 | [`76b1deec`](https://github.com/google-gemini/gemini-cli/commit/76b1deec25c7fa528c42c42a0e1b47c1e0d9f2ec) | 2025-10-08 | Core: smart-edit refreshes file contents when externally modified | fix(core): refresh file contents in smart edit given newer edits from user/external process (#10084) |
| 9 | [`118aade8`](https://github.com/google-gemini/gemini-cli/commit/118aade84cc7e3f6d4680bd17adf73561153050c) | 2025-10-08 | Docs: small citations mention (we already support citations) | citations documentation (#10742) |
| 10 | [`741b57ed`](https://github.com/google-gemini/gemini-cli/commit/741b57ed061c767ed25777f39b9fe826aaa1bcbc) | 2025-10-08 | Windows: spawn via shell for compatibility | fix(core): Use shell for spawn on Windows (#9995) |
| 11 | [`06920402`](https://github.com/google-gemini/gemini-cli/commit/06920402f8acd2c53857c06253c05a71ac42f05e) | 2025-10-08 | Core: prevent context window overflow | feat(core): Stop context window overflow when sending chat (#10459) |
| 12 | [`a044c259`](https://github.com/google-gemini/gemini-cli/commit/a044c25981d7ae74fa1cd42cb002ed721b65c7a0) | 2025-10-08 | UX: show /permissions hint when folder is untrusted | fix: Add a message about permissions command on startup in untrusted … (#10755) |
| 13 | [`b60c8858`](https://github.com/google-gemini/gemini-cli/commit/b60c8858afefd84de4cae672aa62161e8a42b0d8) | 2025-10-09 | UX: shorten context overflow message when <50% limit | feat(ui): shorten context overflow message when <50% of limit (#10812) |
| 14 | [`cd354aeb`](https://github.com/google-gemini/gemini-cli/commit/cd354aebedebe5380ccc5a4917268b4d756fe80c) | 2025-10-09 | Perf: avoid unnecessary UI re-renders | Fix hooks to avoid unnecessary re-renders (#10820) |
| 15 | [`433ca84c`](https://github.com/google-gemini/gemini-cli/commit/433ca84ce06569b653a67fa8fd2f9a21256fedf0) | 2025-10-09 | Tests: log actual output in validateModelOutput on failure (debugging flakes) | fix(tests): log actual output in validateModelOutput on failure (#10843) |
| 16 | [`6d84d4dc`](https://github.com/google-gemini/gemini-cli/commit/6d84d4dc9c163ad5c34b0c9279617c84c3a0918c) | 2025-10-09 | Tests: make run_shell_command integration prompt more deterministic | Fix prompt to make it a bit more deterministic (#10848) |
| 17 | [`a8379d1f`](https://github.com/google-gemini/gemini-cli/commit/a8379d1f4bea1c0786a41b22694119dee97972f2) | 2025-10-09 | Tests: update/enable prompt for MCP add tool integration test | fix(tests): enable and update prompt for MCP add tool test (#10850) |
| 18 | [`5f96eba5`](https://github.com/google-gemini/gemini-cli/commit/5f96eba54a013b47f8110a1338ece5d9b8aeb1f8) | 2025-10-09 | CLI: do not exit on non-fatal tool errors | fix(cli): prevent exit on non-fatal tool errors (#10671) |
| 19 | [`ed37b7c5`](https://github.com/google-gemini/gemini-cli/commit/ed37b7c5e7a88c69654a9328a2240577900d32fc) | 2025-10-09 | Tests: fix isWorkspaceTrusted mocks (stability) | fix some isWorkspaceTrusted mocks (#10836) |
| 20 | [`21062dd3`](https://github.com/google-gemini/gemini-cli/commit/21062dd30e0e8509f420e6ffeb8ad78e7f56297b) | 2025-10-09 | Tests: clean up extension tests | clean up extension tests (#10857) |
| 21 | [`65b9e367`](https://github.com/google-gemini/gemini-cli/commit/65b9e367f080298c78b754b694aa2603bf1c1651) | 2025-10-10 | Docs: fix broken links in docs/architecture.md | Docs: Fix broken links in architecture.md (#10747) |
| 22 | [`971eb64e`](https://github.com/google-gemini/gemini-cli/commit/971eb64e9867a9fc8a4f7395e9915bfd87b0a9c7) | 2025-10-10 | Memory: /memory refresh respects trusted filters | fix(cli) : fixed bug #8310 where /memory refresh will create discrepancies with initial memory load ignoring settings/config for trusted folder and file filters (#10611) |
| 23 | [`affd3cae`](https://github.com/google-gemini/gemini-cli/commit/affd3cae9afd9785064849cac8009409b661e515) | 2025-10-10 | Auth UX: prevent garbled input during Google OAuth prompt | fix: Prevent garbled input during "Login With Google" OAuth prompt on… (#10888) |
| 24 | [`249ea559`](https://github.com/google-gemini/gemini-cli/commit/249ea5594202c9d39cce894fbe92c1da39666a25) | 2025-10-10 | Tests: fix flaky run_shell_command test by using date command | fix(test): Fix flaky shell command test using date command (#10863) |
| 25 | [`c6af4eaa`](https://github.com/google-gemini/gemini-cli/commit/c6af4eaa0099c390e4e1a503b52e92339e0755c8) | 2025-10-10 | Security: respect folder-trust flags in FileCommandLoader | fix: Usage of folder trust config flags in FileCommandLoader (#10837) |
| 26 | [`a5e47c62`](https://github.com/google-gemini/gemini-cli/commit/a5e47c62e4372e02259fafeec21c247e63af87c0) | 2025-10-10 | Docs: tos-privacy updates are relevant | Docs: Update to tos-privacy.md (#10754) |
| 27 | [`0a7ee677`](https://github.com/google-gemini/gemini-cli/commit/0a7ee67707f0cbd0357442ae33f8a5cb602d22c2) | 2025-10-10 | Accessibility: show notifications in screen reader mode | Show notification in screen reader mode (#10900) |
| 28 | [`bf0f61e6`](https://github.com/google-gemini/gemini-cli/commit/bf0f61e656c4a4d3fe8dd4c98a811073b060eae6) | 2025-10-10 | Extensions: show install path; fix isWorkspaceTrusted check | Show final install path in extension consent dialog and fix isWorkspaceTrusted check (#10830) |
| 29 | [`265d39f3`](https://github.com/google-gemini/gemini-cli/commit/265d39f337893c53e58896b3d94061889d9eca8b) | 2025-10-10 | Shell: improve execution service reliability | feat(core): improve shell execution service reliability (#10607) |
| 30 | [`ead8928c`](https://github.com/google-gemini/gemini-cli/commit/ead8928c39018b08fad5a173243df37519f8c2ae) | 2025-10-10 | Tests: deflake json-output integration test | Deflake test. (#10932) |
| 31 | [`cd919346`](https://github.com/google-gemini/gemini-cli/commit/cd9193466e95539f8e3defcd17f24705c28dabec) | 2025-10-10 | Tests: clean up integration test warnings (test-helper) | Clean up integration test warnings. (#10931) |
| 32 | [`c23eb84b`](https://github.com/google-gemini/gemini-cli/commit/c23eb84b049ff5d8d19e5f0a5d8f37ba643e1278) | 2025-10-13 | A2A: remove private flag from a2a-server package | fix(remove private) from gemini-cli-a2a-server (#11018) |
| 33 | [`28e667bd`](https://github.com/google-gemini/gemini-cli/commit/28e667bd97820859b9f28bbd535fd35ec661cd41) | 2025-10-13 | Tests: add explicit failure-output instructions to json-output integration test | Give explicit instructions for failure text in json-output.test.ts (#11029) |
| 34 | [`77162750`](https://github.com/google-gemini/gemini-cli/commit/771627505daf4357b8cb6e1ff386ad8fda6c3a08) | 2025-10-13 | Default: enable useSmartEdit by default (behavior change) | chore(settings): Enable 'useSmartEdit' by default (#11051) |
| 35 | [`6787d42d`](https://github.com/google-gemini/gemini-cli/commit/6787d42de4ce46bc764ccd788d4605aef4868fdd) | 2025-10-13 | Perf: optimize Windows IDE process detection | perf(core): optimize Windows IDE process detection from O(N) to O(1) (#11048) |
| 36 | [`a3fe9279`](https://github.com/google-gemini/gemini-cli/commit/a3fe9279d8b1b8826502d1f0522e381792003ec4) | 2025-10-14 | Compression: avoid summarizing too-short history | fix(compression): prevent unnecessary summarization when history is too short (#11082) |
| 37 | [`249a193c`](https://github.com/google-gemini/gemini-cli/commit/249a193c001b4d63f9eb28c29d401a70ac4465a0) | 2025-10-13 | Prompts: optimize shell tool command guidance | Update system instructions for optimizing shell tool commands (#10651) |
| 38 | [`b2ba67f3`](https://github.com/google-gemini/gemini-cli/commit/b2ba67f33742461024c5a113ca3658b76d7685cf) | 2025-10-14 | Trust dialog: Esc exits on launch | fix: Exit app on pressing esc on trust dialog at launch (#10668) |
| 39 | [`3ba4ba79`](https://github.com/google-gemini/gemini-cli/commit/3ba4ba79fa09ce990e25e272cffca8d5d5a239fd) | 2025-10-14 | Prompts: remove workflow examples | Remove workflow examples from system instruction  (#10811) |
| 40 | [`9e8c7676`](https://github.com/google-gemini/gemini-cli/commit/9e8c76769434eb578e566d06b16084e01cc36073) | 2025-10-14 | Non-interactive: record tool calls | fix(cli): record tool calls in non-interactive mode (#10951) |
| 41 | [`7b06a0be`](https://github.com/google-gemini/gemini-cli/commit/7b06a0bebd48c2bbcba730ab4b085c7cc07ef4b6) | 2025-10-14 | Tests: use rmSync instead of rm -rf in integration test helper (more portable) | fix(e2e): Use rmSync instead of rm -rf for e2e tests (#11087) |
| 42 | [`dabe161a`](https://github.com/google-gemini/gemini-cli/commit/dabe161a6f73f25e97c5bae914eb6e26454b6253) | 2025-10-14 | UI: don't accept input until slash commands load | Don't accept input until slash commands are loaded (#11162) |

## REIMPLEMENT (port manually)

| # | Commit | Date | Rationale | Subject |
|---:|:------|:-----|:----------|:--------|
| 1 | [`8ac2c684`](https://github.com/google-gemini/gemini-cli/commit/8ac2c6842d222c6417f6de365878b66056656e48) | 2025-10-08 | A2A: consider bundling strategy for a2a-server; our release/bundle layout differs from upstream | chore: bundle a2a-server (#10265) |
| 2 | [`8d8a2ab6`](https://github.com/google-gemini/gemini-cli/commit/8d8a2ab64ef63bf7a722213f39d947c262d63042) | 2025-10-08 | Docs/Tests: add deflake docs + small deflake.js tweak; our docs structure differs (no docs/integration-tests.md) | Fix(doc) - Add section in docs for deflaking (#10750) |
| 3 | [`bcbcaeb8`](https://github.com/google-gemini/gemini-cli/commit/bcbcaeb82c256a36ae3d43a96df673cef61333a6) | 2025-10-08 | Docs: upstream updates faq/extensions docs; port relevant info into llxprt docs layout | fix(docs): Update docs/faq.md per Srinanth (#10667) |
| 4 | [`0cd490a9`](https://github.com/google-gemini/gemini-cli/commit/0cd490a9b803041c69279bc8bf857fb3ea9baafe) | 2025-10-09 | Gemini/GCA: add GOOGLE_CLOUD_PROJECT_ID fallback | feat: support GOOGLE_CLOUD_PROJECT_ID fallback (fixes #2262) (#2725) |
| 5 | [`bd6bba8d`](https://github.com/google-gemini/gemini-cli/commit/bd6bba8d07cf8cc3627516305895fe9bd1f9e95f) | 2025-10-09 | Docs: deflake command doc tweak; our docs structure differs (no docs/integration-tests.md) | fix(doc) - Update doc for deflake command (#10829) |
| 6 | [`5e688b81`](https://github.com/google-gemini/gemini-cli/commit/5e688b8113b6ee005baee85ccd22d96a4daf9919) | 2025-10-09 | Tests: upstream skips a flaky replace case; decide whether to tighten tool allowlist or follow upstream skip to reduce flake | Skip should fail safely when old_string is not found test (#10853) |
| 7 | [`5aab793c`](https://github.com/google-gemini/gemini-cli/commit/5aab793cfdffade162789410bd4eb016adf96868) | 2025-10-09 | Tests: fixes interactive FS test flake, but llxprt doesn't currently carry file-system-interactive.test.ts | fix(infra) - Fix interactive system error (#10805) |
| 8 | [`0b6c0200`](https://github.com/google-gemini/gemini-cli/commit/0b6c02000f2301717c38fb3c8ba2423d70d6c0b0) | 2025-10-09 | Core: failed-response retry via extra prompt (multi-provider turn/client changes) | feat(core): Failed Response Retry via Extra Prompt (#10828) |
| 9 | [`c82c2c2b`](https://github.com/google-gemini/gemini-cli/commit/c82c2c2b1513717a71693b6156337dda07d15a52) | 2025-10-10 | A2A: add a2a-server bin + server entry tweaks; port without upstream lockfile churn and with llxprt package naming | chore: add a2a server bin (#10592) |
| 10 | [`558be873`](https://github.com/google-gemini/gemini-cli/commit/558be8731157d131b53d5775933dc8a2fa0748f3) | 2025-10-09 | UI: large narrow-screen margin + full-width setting change; port selectively to avoid conflicts with llxprt UI work | Re-land bbiggs changes to reduce margin on narrow screens with fixes + full width setting (#10522) |
| 11 | [`849cd1f9`](https://github.com/google-gemini/gemini-cli/commit/849cd1f9ed9418bb89e25b9dd99c5e40f4f9a15e) | 2025-10-10 | Docs: upstream changelog link fix; llxprt uses different release-notes layout | Docs: Fix Flutter extension link in docs/changelogs/index.md (#10797) |
| 12 | [`32db4ff6`](https://github.com/google-gemini/gemini-cli/commit/32db4ff66d041a66321d2212b4b8ce6241842bb7) | 2025-10-10 | Tests: upstream disables flaky interactive tests + tweaks replace; port relevant non-skip improvements to llxprt suite | Disable flakey tests. (#10914) |
| 13 | [`ab3804d8`](https://github.com/google-gemini/gemini-cli/commit/ab3804d8231850afe6ea92e787a36b1bd8e064b6) | 2025-10-10 | Tools: upstream web search tool-name refactor; llxprt renamed to google-web-search/exa-web-search | refactor(core): migrate web search tool to tool-names (#10782) |
| 14 | [`a6e00d91`](https://github.com/google-gemini/gemini-cli/commit/a6e00d9183a52d027eca76617b114d4268264ee2) | 2025-10-10 | Extensions: UX fixes bundled with Clearcut logging; port CLI changes without Clearcut | Fix rough edges around extension updates (#10926) |
| 15 | [`a64bb433`](https://github.com/google-gemini/gemini-cli/commit/a64bb433b0b84da43e41554a4e529a1c354b3adf) | 2025-10-10 | Tests: simplify auth handling in interactive tests; port changes that touch files llxprt still has (ctrl-c-exit/test-helper) | Simplify auth in interactive tests. (#10921) |
| 16 | [`37678acb`](https://github.com/google-gemini/gemini-cli/commit/37678acb1a15ee07e065b93bcd7bdc01b726e1d3) | 2025-10-10 | Docs: upstream get-started docs restructuring doesn't match llxprt docs layout; port content selectively | Update deployment.md -> installation.md and sidebar links. (#10662) |
| 17 | [`5dc7059b`](https://github.com/google-gemini/gemini-cli/commit/5dc7059ba35e563935c6ebee5ad423b4e03fda21) | 2025-10-11 | Tests: introduces InteractiveRun class but touches missing interactive test files; port scaffolding where applicable | Refactor: Introduce InteractiveRun class (#10947) |
| 18 | [`19c1d734`](https://github.com/google-gemini/gemini-cli/commit/19c1d7340596c4f4b01b7e66e0394d760a8a1979) | 2025-10-13 | Docs: add bundle command info to integration-test docs; llxprt lacks docs/integration-tests.md | add bundle command info to integration test docs (#11034) |
| 19 | [`518caae6`](https://github.com/google-gemini/gemini-cli/commit/518caae62ee2c8c0f499ed469817f03d5447fbcd) | 2025-10-14 | Paths: upstream centralizes '.gemini' dir; llxprt prefers '.llxprt' + compat | chore: Extract '.gemini' to GEMINI_DIR constant (#10540) |
| 20 | [`4a5ef4d9`](https://github.com/google-gemini/gemini-cli/commit/4a5ef4d9f76d85af14c4b7bd0664a2d23cb6e7c0) | 2025-10-13 | Tests: fixes interactive FS flake and extends test-helper; llxprt missing file-system-interactive.test.ts | fix(infra) - Fix flake for file interactive system (#11019) |
| 21 | [`a73b8145`](https://github.com/google-gemini/gemini-cli/commit/a73b81452d766c74b602602641e4399f77734313) | 2025-10-13 | Tests: rename expect helpers; touches missing interactive test files but also impacts ctrl-c-exit/test-helper | Rename expect methods. (#11046) |
| 22 | [`c4bd7594`](https://github.com/google-gemini/gemini-cli/commit/c4bd75946765683efffe4ac8f46d23282ee56fa4) | 2025-10-13 | Docs: document showInDialog settings; upstream doc path differs (docs/get-started/configuration.md vs llxprt docs/cli/configuration.md) | document all settings with showInDialog: true (#11049) |
| 23 | [`ada179f5`](https://github.com/google-gemini/gemini-cli/commit/ada179f572804ce09170773e3877daf5f01ba27c) | 2025-10-13 | Scheduler: upstream forces sequential tool calls; port carefully into llxprt batching | bug(core): Process returned function calls sequentially. (#10659) |
| 24 | [`7c1a9024`](https://github.com/google-gemini/gemini-cli/commit/7c1a90244a3a5b8f4f283c28177f1393eb38d19d) | 2025-10-14 | Retry: merge specific fetch error retry logic into llxprt retry.ts (has custom failover) | fix(core): add retry logic for specific fetch errors (#11066) |
| 25 | [`49b66733`](https://github.com/google-gemini/gemini-cli/commit/49b66733c24ed8f14bf0e57343752556dc268134) | 2025-10-14 | Tests: upstream disables ctrl-c integration test due to flake; decide whether to stabilize or disable in llxprt | fix(infra) - Disable CTRL-C test (#11122) |
| 26 | [`99c7108b`](https://github.com/google-gemini/gemini-cli/commit/99c7108bb08e52b6550743dbe721a579af58c1f8) | 2025-10-14 | Tests: substantial run_shell_command + harness fixes, but touches missing interactive test file; port changes to existing llxprt tests/harness | fix integration test static errors, and run_shell_command tests to actually be testing what they intend (#11050) |
| 27 | [`769fe8b1`](https://github.com/google-gemini/gemini-cli/commit/769fe8b161a59d3690feb7069ee717e2be4829cc) | 2025-10-14 | Tests: upstream replaces/rewrites replace integration tests for determinism; port suite changes (llxprt replace tests diverged) | Delete unworkable replace test and enabled the rest (#11125) |
| 28 | [`6f0107e7`](https://github.com/google-gemini/gemini-cli/commit/6f0107e7b793f24597fe04258ada4f2639b6c69a) | 2025-10-14 | Tools: robust URL validation for web_fetch; port into google-web-fetch/direct-web-fetch (llxprt renamed tools) | fix(core): implement robust URL validation in web_fetch tool (#10834) |
| 29 | [`4f5b3357`](https://github.com/google-gemini/gemini-cli/commit/4f5b335792d1c8ad0df5d2bb1a7437e9567f20a3) | 2025-10-14 | Tests: adds cyclic-schema MCP integration test + helper updates; port new test file and adapt to llxprt | fix(tests): enable cyclic schema MCP tool test (#10912) |
