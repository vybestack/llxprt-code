# Phase 21: Session Management Stub — Completed

## Phase ID
`PLAN-20260211-SESSIONRECORDING.P21`

## Completed
2026-02-13

## What Was Done

### Created `packages/core/src/recording/sessionManagement.ts`
- `ListSessionsResult`, `DeleteSessionResult`, `DeleteSessionError` interfaces
- `listSessions(chatsDir, projectHash)` — delegates to `SessionDiscovery.listSessions()`, wraps in result object
- `deleteSession(ref, chatsDir, projectHash)` — resolves session ref, checks lock status (refuses if actively locked, cleans stale locks), deletes session file and sidecar lock file
- Core-layer only: returns data objects, no table formatting, no console output, no terminal colors

### Modified `packages/core/src/recording/index.ts`
- Added barrel exports for `listSessions`, `deleteSession`, `ListSessionsResult`, `DeleteSessionResult`, `DeleteSessionError`

## Requirements Addressed
- **REQ-MGT-001**: `listSessions` provides session data for listing
- **REQ-MGT-002**: `deleteSession` resolves and deletes session files
- **REQ-MGT-003**: `deleteSession` refuses to delete actively locked sessions

## Verification
- `npm run typecheck` — passed
- `npm run test` — all tests passed
- Plan verification commands — all passed
